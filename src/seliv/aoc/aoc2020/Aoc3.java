package seliv.aoc.aoc2020;

/**
 * User: aselivanov
 * Date: 12/3/2020
 * Time: 3:36 AM
 */
public class Aoc3 {
    public static void main(String[] args) {
        String[] ss = IN.split("\n");
        final int w = ss[0].length();

        char[][] trees = new char[ss.length][];
        for (int i = 0; i < ss.length; i++) {
            trees[i] = new char[w];
            for (int j = 0; j < ss[i].length(); j++) {
                trees[i][j] = ss[i].charAt(j);
            }
        }

        long a1 = check(w, trees, 1, 1);
        long a2 = check(w, trees, 3, 1);
        long a3 = check(w, trees, 5, 1);
        long a4 = check(w, trees, 7, 1);
        long a5 = check(w, trees, 1, 2);

        System.out.println("a1 * a2 * a3 * a4 * a5 = " + a1 * a2 * a3 * a4 * a5);
    }

    private static int check(int w, char[][] trees, int dx, int dy) {
        int x = 0;
        int y = 0;

        int res = 0;
        while (y < trees.length) {
            if (trees[y][x % w] == '#') {
                res++;
            }
            x += dx;
            y += dy;
        }
        System.out.println("res = " + res);
        return res;
    }

//    private static final String IN = "..##.......\n" +
//            "#...#...#..\n" +
//            ".#....#..#.\n" +
//            "..#.#...#.#\n" +
//            ".#...##..#.\n" +
//            "..#.##.....\n" +
//            ".#.#.#....#\n" +
//            ".#........#\n" +
//            "#.##...#...\n" +
//            "#...##....#\n" +
//            ".#..#...#.#";


    private static final String IN = ".......#..#....#...#...#......#\n" +
            "..##..#...##.###.#..#.....#.#..\n" +
            "#..#.#....#......#..#.........#\n" +
            ".#..##...#........#....#..#..#.\n" +
            "#.#.#....###...#........#.....#\n" +
            ".#...#.#.##.#.##...#.#.........\n" +
            "####......#.......###.##.#.....\n" +
            "..#...........#...#.#.#........\n" +
            ".#.......#....###.####..#......\n" +
            "...##........#....##.......##..\n" +
            ".###......##.#......##....#.#.#\n" +
            "........#.#......##...#......#.\n" +
            "#....##.#..#...#.......#.......\n" +
            ".#..##........##.........#....#\n" +
            ".#..#..#...#....#.#......#.#...\n" +
            "..#.#......##.#.......#....##..\n" +
            "......##......#.#..##.#..#...#.\n" +
            ".....##.......#.#....#.#.......\n" +
            "........#.....#.....#..###.#...\n" +
            "#........#..#.....#...#.#.#..#.\n" +
            ".#..#.....#...#........#.....#.\n" +
            ".#.#.....#.....#...#...........\n" +
            ".....#.#..#..#...#..#..#..##..#\n" +
            "##.#...#....#..#.##..#.....#.#.\n" +
            "#.......####......#..#.#....#..\n" +
            "......#.#...####.........#.#..#\n" +
            ".#.........#..#.#...#..........\n" +
            "...#####.#....#.#..#......#.#.#\n" +
            "##....#.###....##...##..#.....#\n" +
            "...........####.##.#....##.##..\n" +
            "#.#.#..........#.#..##.#.######\n" +
            "##...#..#...........###..#....#\n" +
            ".#.#.#...##..........##.#...#..\n" +
            "...#.#........#..##...#....#...\n" +
            "......#..#...#..##....#.......#\n" +
            ".#..#.......#..#......##....##.\n" +
            ".......#.......#........#..##..\n" +
            "...#...#...#.##......#.##.#....\n" +
            ".........#.........#.#.#.##....\n" +
            "..#...................#....#..#\n" +
            ".........#..#.....#.#...#....#.\n" +
            "#.#.#...#........#..###.#......\n" +
            "#.#.#.####......##...#...#....#\n" +
            "#...........##..#.#.#....#..#..\n" +
            "........#..#.#...........##.#.#\n" +
            ".#.........#...........#..#....\n" +
            "#............##.#..#....##...##\n" +
            ".#....##..#.#....#.......#..#..\n" +
            "..#.#...#.#......####.......#..\n" +
            "...#.#.......###......#.....#..\n" +
            "#......#.......#.#...#.#..##...\n" +
            "...#.....#...##.#.....#.#......\n" +
            "#.#.#............#..#......#..#\n" +
            "....#...#...##.##.##...##.#....\n" +
            "..##........#..#........#...##.\n" +
            ".......#..#...#.........#.....#\n" +
            "...........#.#......#...#......\n" +
            "...##..##..##..###..#..#..#..#.\n" +
            "#..##.......##..#....#....#.#..\n" +
            "#.#.##.#..##.....#....#.#......\n" +
            "....#..##......#.#..#....#....#\n" +
            ".#.#.........##...#......##.##.\n" +
            "##...........#..#.....#.###....\n" +
            ".#.###........#...#....##..#...\n" +
            "......##.....#.................\n" +
            ".#.##..#.#.......#......#.#.#..\n" +
            ".#...#....#.##..........##.##..\n" +
            "#...##......####.#....#....#...\n" +
            ".#...#.##.#.#.....#...#........\n" +
            ".#................#.##.#.###...\n" +
            "...#.#..#.#.....##.....##....#.\n" +
            "..##.#..#..##.....#....#...#.##\n" +
            "........###.##..#..###.....#..#\n" +
            "..##.....#.......#.#...##......\n" +
            "#.#..###...##.###.##.#..#...#..\n" +
            "#..#..#.#...#....#...##.....#.#\n" +
            "#..................#........#..\n" +
            "#.....#.......#.##....##....#..\n" +
            "...#.............#.....#...#...\n" +
            "...#...#.##..##.....#........#.\n" +
            ".......#........##....###..##..\n" +
            ".#....#....#.#..#......#....#.#\n" +
            "..........#..#.#.....##...#.##.\n" +
            ".#...##.#...........#.#.......#\n" +
            "..#.##.....#.###.#.............\n" +
            "..#....###..........#.#.#......\n" +
            "#.....#.####..#.#......#..#.#.#\n" +
            "...#........#..#...............\n" +
            ".###.#.##.....#.#...........#..\n" +
            "..#....#..#....#..##....#......\n" +
            "......#..#.....#.#.##.......#.#\n" +
            "###..#...#.#..#....#..##.###..#\n" +
            ".#....##.###........##...##.#.#\n" +
            "........##..##.#....##..#....#.\n" +
            "...#..#....#.#....#...#...##...\n" +
            "#.....#......#.##........#....#\n" +
            "....#....###.##...#.#.##....#..\n" +
            "......#.##..#.#..........#...#.\n" +
            "...........#...#....##...#....#\n" +
            "......#.#.........#....#.#.#...\n" +
            ".###..........#.###.##....#...#\n" +
            "...##.......#......#....#....#.\n" +
            "#..#...#.#..####...#......#..#.\n" +
            "....##..#.#.........#..........\n" +
            ".##.###.##....##.####....#...#.\n" +
            "..##.......#........#...#..#...\n" +
            "....#####..........###....#....\n" +
            ".#.#..#.#.#....#..#............\n" +
            "........#.....#....#.......##..\n" +
            "...........##....##..##.....##.\n" +
            "..###........#.#.#..#....##...#\n" +
            ".....#...........##......#..#..\n" +
            "...##........#.##.#......##..#.\n" +
            "##..#....#............##..#..#.\n" +
            ".#.....#...##.##..............#\n" +
            "#..##........#...#...#......##.\n" +
            "......##.....#.......####.##..#\n" +
            "...#.#....#...#..#.............\n" +
            "..#...#..##.###..#..#.......##.\n" +
            "##....###.......#...#..#.......\n" +
            "#..#.....###.....#.#.........#.\n" +
            "#.#....#.............#...#.....\n" +
            "..#.#.##..........#.....##.#...\n" +
            ".....##......#..#..#.....#..#..\n" +
            "##.#..#..#.##......###....#..#.\n" +
            "...#............##...#..##.....\n" +
            ".#..#....#.........#......#.##.\n" +
            ".##.##...#..............#..#.##\n" +
            "...#....#...###...#...#....#..#\n" +
            "..#...#..####..#....#.#...##..#\n" +
            "..............##.##.......##...\n" +
            "..##.#..##...........#.#.#...#.\n" +
            "..................##.####.###..\n" +
            ".#...........#.......#......#..\n" +
            ".#.#.#...#....#.........##...##\n" +
            "....#..........#.#....#.#.....#\n" +
            "..........#.#..........#.#.....\n" +
            "...........#.....#.#......#....\n" +
            "........#..#.#.#.#.............\n" +
            "...###...##...##..####.##......\n" +
            ".#..#......###.....#...#.....#.\n" +
            ".........##............#.#.....\n" +
            "#.#..#.#.#....###.#.#..#..#..##\n" +
            "..........#...#.##.#..#..#....#\n" +
            "#..#.......##....#..##........#\n" +
            "##.#...#....##.............#...\n" +
            "....#........#......##..#..#.##\n" +
            ".................#.#.#.#.#.....\n" +
            "...........#.#.....#.......#...\n" +
            "#.......#.......#............#.\n" +
            "....#...........#.#.##.....#..#\n" +
            "#...#.....#....#..##...#.......\n" +
            "..#.....#.....#.##.##....#.....\n" +
            ".#.#..#...#..#..##.....##..#...\n" +
            ".#.#....#.........####.........\n" +
            "#...#..####.....#...#..##......\n" +
            "..#...##.#.....#...#.....##....\n" +
            ".#...#.....#.#.#......#.......#\n" +
            "..#.....##.#..#.#...##.........\n" +
            "##.#...#..#....#....#.##.##...#\n" +
            ".#..#....#..##.#.......#..#....\n" +
            "...##.#......#...###.......#...\n" +
            "...#..#.........##.####........\n" +
            "#.#..#..##...........#..#......\n" +
            ".#...#.#......#.#..........#...\n" +
            "...###...#.......#.....#.#...##\n" +
            "..#....#.#.##..........##...#..\n" +
            ".....###.........#.....#..##..#\n" +
            ".......##.....#.#.....#.#..##..\n" +
            ".#.#.###..##.......##...#......\n" +
            "......#.....#................##\n" +
            ".#......##..##.#.#...#...#...##\n" +
            ".#...#......#.......#.#........\n" +
            ".#..........###...#..#...#.....\n" +
            ".........##.....#.#..#..#.#...#\n" +
            "#...#...#.........#..#..#....#.\n" +
            "###.......#.#.....#....##......\n" +
            ".#..#......#..#...........#..#.\n" +
            "..##....##..##...#......#......\n" +
            ".#........#....#...#....#.....#\n" +
            ".#.......#...#...#..##.#.#..#..\n" +
            "#...#........#.##.....#.....#..\n" +
            "#..##.....#..........#...#...##\n" +
            "............#...............#..\n" +
            ".#.##...#.....#.#..#..#..#.....\n" +
            ".#.#.#...#........#....#...##..\n" +
            "##......#.....#.###.#...#.#..#.\n" +
            ".........##..#..#.#...#...#...#\n" +
            "#...#.#....#..#..#.....#.......\n" +
            ".......#.###...#.............#.\n" +
            "..#.....#.#.#..###.#....#.....#\n" +
            "....#...#.#....#.#..........#..\n" +
            "..#......#.###.#.#..#.....#...#\n" +
            "#............#..##...##......#.\n" +
            "#...........#..#....#.###..###.\n" +
            ".#.##.#.#.......#.............#\n" +
            "..............#................\n" +
            "..#.#.....#.....#...#......#...\n" +
            ".#.#.#..#..#.#...........##....\n" +
            ".....##.#......#..#.##....#....\n" +
            ".......##..#.#.#..#............\n" +
            "..#.....#.....#.###..#.....#.#.\n" +
            "......##.....#..##.#...#.....#.\n" +
            "...#...#....#..#..#........#...\n" +
            "..#.##..#....#.........#.#..#..\n" +
            "#....#.....###.....#......#....\n" +
            "##.....#..#..##.........#.##.##\n" +
            ".#.#....#.#..........#.........\n" +
            ".##.#...#..#.......#.##...#....\n" +
            "...#...#.....#....#...#.#..#...\n" +
            ".....#....#.....#.....#.#......\n" +
            "...........#.#.......#.......#.\n" +
            ".........##.###.##........#....\n" +
            "#..##.....#...#.#..............\n" +
            ".#...#....##........#.#..#....#\n" +
            "..#...#........#...#..#.##.#..#\n" +
            "........#...#.....##.#.#....#.#\n" +
            "#..#.......###.#....#.#.#......\n" +
            ".......#...##....#...#..##..#..\n" +
            ".....##........#.#.#..#....##..\n" +
            ".#....#..#.#...........#......#\n" +
            "...##....#.##.....##.......#...\n" +
            ".##..#..#....#.#....#..#....##.\n" +
            "..#....#.....###.......#..##..#\n" +
            "....#.......#....##..#....#..##\n" +
            "....#......##..#....#.#...#.#..\n" +
            ".##.#......##..................\n" +
            "##.#....#........#..#..#...##.#\n" +
            ".......#..#.#...##.....#.#.....\n" +
            "..##.#...........#.#.#..#.#.#..\n" +
            ".....#....#......#..#.......#..\n" +
            "#.#...#.####..##.......#..##...\n" +
            "...#....#.....#.##.#..#.##..#..\n" +
            ".#.......#......##........##.#.\n" +
            ".......#.#...#..#...#..##.#....\n" +
            ".#....#........#.#.....##..#..#\n" +
            "#..#.....#..#.............#...#\n" +
            "#...#....#..#...###..#...#.#...\n" +
            ".#..#.....#..........#..##.####\n" +
            "#.#.#.#.##.#.#.....##.#........\n" +
            "...#....##....#...#..##.......#\n" +
            "..##.##.#.#........#..........#\n" +
            "..###........###..#..........#.\n" +
            "...#......#..##.#........#..#..\n" +
            "#.#.#..#........#..#..........#\n" +
            "...#........#..##.#...#.###....\n" +
            "##......#.####.#....#......#...\n" +
            ".#..#......#................#..\n" +
            "#.#........#.#.....##.....##...\n" +
            "#...............#..#.......#.#.\n" +
            ".##..#...........##..#..#.#....\n" +
            "#......#.#.......#.#.#.##..#.##\n" +
            ".....##.#..###.............##..\n" +
            "....##.........#..#...#........\n" +
            ".....#.....#.#.#..#.#..........\n" +
            "#.........#....##.#.##.....#..#\n" +
            ".#.........#......#.#.##.#.#...\n" +
            "##.........#.....#..#.#..#.##.#\n" +
            "....#......##...#.....#..#..###\n" +
            "..#..............#...#..####...\n" +
            "#....#...##.#.......#...#..#...\n" +
            "#.......###.#.#.......#.......#\n" +
            "...##....#.#...........#...###.\n" +
            "...........#..#.#.....#..##..#.\n" +
            "..#.........#..###..#.....#...#\n" +
            "..#.#.....#.#.#...#.#.#......#.\n" +
            "........#.....#.#......##....##\n" +
            "##.#.#...#.#........#.....#...#\n" +
            "........#....#...............#.\n" +
            "##.###......####...#####..#....\n" +
            "...##...#..#....#........#...#.\n" +
            "...###.#..................##.#.\n" +
            "##.#.......###.......#...#.#...\n" +
            "....#..#.#...#...#....#.#.#..##\n" +
            "....#...........#..#...........\n" +
            "#..#.#..#...#...#..#...........\n" +
            "...#...#.#....#..#....#........\n" +
            "#....#.......#.##........#..#..\n" +
            ".....#...#..#................#.\n" +
            "#......#.......#..........##..#\n" +
            ".#....#.#......#.#...#....##..#\n" +
            "...#.##...#......#.#...##...##.\n" +
            "..#...#..##...#...#....#.......\n" +
            ".....#....#.#.#..........#.#...\n" +
            "...#...#..#....#..#.#..........\n" +
            "......#.#..........##.......#..\n" +
            ".#...##.#.#...#..##..#...#.....\n" +
            "..#..#.........#........#.#.#..\n" +
            "#.#..##..#.....##......#.....#.\n" +
            "#..#.....#.#....#...#.#....#.#.\n" +
            "......#........##.#..#...#.....\n" +
            "...#.##.#.#......#.#..##...#..#\n" +
            "....#..###..#..#.....###....##.\n" +
            ".....#...#.#.....#..........#.#\n" +
            ".#...##..##.....#..#...#.#.#...\n" +
            ".##.#......##...##..#...#.....#\n" +
            ".#.##....#...#.##.#.#...#.#...#\n" +
            "....#.#...#....###.#.....#.....\n" +
            "#.....####................#..#.\n" +
            "....#.....#...#.#.......##.#...\n" +
            ".#...##.#...#..#...........#.#.\n" +
            "..#####..#.#...#...##........#.\n" +
            "...#...##........#...#.#....###\n" +
            "........#.#.#..#.....#.......#.\n" +
            "...#...#..##............##.....\n" +
            "#.#..###....###.#...#.#...##.##\n" +
            "..#.##...#......#..#.........##\n" +
            ".##..#..#.....#..#.........#.#.\n" +
            ".#..#.#....#.##...#..#.##....##\n" +
            "..#...#.#...##.#.#...#...#....#\n" +
            "#..........#.......##..##....#.\n" +
            "#...###.#......#....#.........#\n" +
            "#.....#...##.......##....##....\n" +
            ".##.#..#.##......#.##....#..#..\n" +
            "............#.#....##.#..#....#\n" +
            ".#.........##.##...#....#.....#\n" +
            "##....##..#..#....##...#.....##\n" +
            "...#.....#...........#.....##..\n" +
            "......#...#.........#.......#..\n" +
            "............#...##.#.....#.#.#.\n" +
            ".#........##..........#.....#.#\n" +
            ".###.........#.....#.##...#....\n" +
            ".##..#...##...#..#..#.##.......";
    
}
